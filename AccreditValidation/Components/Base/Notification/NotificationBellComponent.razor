@using AccreditValidation.Components.Services.Interface
@using AccreditValidation.Shared.Services.Notification
@using System.Collections.ObjectModel
@inject INotificationService NotificationService
@implements IDisposable

<div class="notification-bell-container">
    <button class="bell-button" @onclick="TogglePanel">
        <i class="bi bi-bell" style="color: white;"></i>
        @if (UnreadCount > 0)
        {
            <span class="badge">@UnreadCount</span>
        }
    </button>
</div>

@if (IsPanelVisible)
{
    <NotificationPanelComponent 
        Notifications="@Notifications"
        OnClose="@ClosePanel"
        OnNotificationTapped="@HandleNotificationTapped"
        OnMarkAllRead="@HandleMarkAllRead"
        OnClearAll="@HandleClearAll" />
}

